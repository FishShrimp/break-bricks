{"version":3,"sources":["assets\\scripts\\controller\\GameCtl.js"],"names":["GameModel","require","cc","Class","Component","properties","gameView","ball1","ball2","ball3","firststart","paddle","brickLayout","overPanel","onLoad","physicsManager","director","getPhysicsManager","gameModel","enabled","init","startGame","bricksNumber","stopGame","show","score","onBallContactBrick","ballNode","brickNode","parent","addScore","minusBrick","updateScore","onBallContactGround","groundNode","onDestroy"],"mappings":";;;;;;AAAA,IAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAEL,OAAO,CAAC,UAAD,CADT;AAERM,IAAAA,KAAK,EAAEN,OAAO,CAAC,OAAD,CAFN;AAGRO,IAAAA,KAAK,EAAEP,OAAO,CAAC,OAAD,CAHN;AAIRQ,IAAAA,KAAK,EAAER,OAAO,CAAC,OAAD,CAJN;AAKRS,IAAAA,UAAU,EAAET,OAAO,CAAC,YAAD,CALX;AAMRU,IAAAA,MAAM,EAAEV,OAAO,CAAC,QAAD,CANP;AAORW,IAAAA,WAAW,EAAEX,OAAO,CAAC,aAAD,CAPZ;AAQRY,IAAAA,SAAS,EAAEZ,OAAO,CAAC,WAAD;AARV,GAHP;AAcLa,EAAAA,MAAM,EAAE,kBAAY;AAChB,SAAKC,cAAL,GAAsBb,EAAE,CAACc,QAAH,CAAYC,iBAAZ,EAAtB;AACA,SAAKC,SAAL,GAAiB,IAAIlB,SAAJ,EAAjB;AACA,SAAKe,cAAL,CAAoBI,OAApB,GAA8B,IAA9B;AACA,SAAKD,SAAL,CAAeE,IAAf;AACA,SAAKd,QAAL,CAAcc,IAAd,CAAmB,IAAnB;AACA,SAAKT,MAAL,CAAYS,IAAZ;AACA,SAAKP,SAAL,CAAeO,IAAf,CAAoB,IAApB;AACA,SAAKV,UAAL,CAAgBU,IAAhB,CAAqB,IAArB;AACH,GAvBI;AA0BLC,EAAAA,SA1BK,uBA0BO;AACR,SAAKN,cAAL,CAAoBI,OAApB,GAA8B,IAA9B;AACA,SAAKD,SAAL,CAAeE,IAAf;AACA,SAAKd,QAAL,CAAcc,IAAd,CAAmB,IAAnB;AACA,SAAKb,KAAL,CAAWa,IAAX,CAAgB,IAAhB;AACA,SAAKZ,KAAL,CAAWY,IAAX,CAAgB,IAAhB;AACA,SAAKX,KAAL,CAAWW,IAAX,CAAgB,IAAhB;AACA,SAAKT,MAAL,CAAYS,IAAZ;AACA,SAAKR,WAAL,CAAiBQ,IAAjB,CAAsB,KAAKF,SAAL,CAAeI,YAArC;AACA,SAAKT,SAAL,CAAeO,IAAf,CAAoB,IAApB;AACH,GApCI;AAsCLG,EAAAA,QAtCK,sBAsCM;AACP,SAAKR,cAAL,CAAoBI,OAApB,GAA8B,KAA9B;AACA,SAAKN,SAAL,CAAeW,IAAf,CAAoB,KAAKN,SAAL,CAAeO,KAAnC,EAA0C,KAAKP,SAAL,CAAeI,YAAf,KAAgC,CAA1E;AACH,GAzCI;AA2CLI,EAAAA,kBA3CK,8BA2CcC,QA3Cd,EA2CwBC,SA3CxB,EA2CmC;AACpCA,IAAAA,SAAS,CAACC,MAAV,GAAmB,IAAnB;AACA,SAAKX,SAAL,CAAeY,QAAf,CAAwB,CAAxB;AACA,SAAKZ,SAAL,CAAea,UAAf,CAA0B,CAA1B;AACA,SAAKzB,QAAL,CAAc0B,WAAd,CAA0B,KAAKd,SAAL,CAAeO,KAAzC;;AACA,QAAI,KAAKP,SAAL,CAAeI,YAAf,IAA+B,CAAnC,EAAsC;AAClC,WAAKC,QAAL;AACH;AACJ,GAnDI;AAqDLU,EAAAA,mBArDK,+BAqDeN,QArDf,EAqDyBO,UArDzB,EAqDqC;AACtC,SAAKX,QAAL;AACH,GAvDI;AAyDLY,EAAAA,SAzDK,uBAyDO;AACR,SAAKpB,cAAL,CAAoBI,OAApB,GAA8B,KAA9B;AACH;AA3DI,CAAT","sourceRoot":"/","sourcesContent":["const GameModel = require('GameModel');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        gameView: require('GameView'),\r\n        ball1: require('Ball1'),\r\n        ball2: require('Ball2'),\r\n        ball3: require('Ball3'),\r\n        firststart: require('firststart'),\r\n        paddle: require('Paddle'),\r\n        brickLayout: require('BrickLayout'),\r\n        overPanel: require('OverPanel'),\r\n    },\r\n\r\n    onLoad: function () {\r\n        this.physicsManager = cc.director.getPhysicsManager();\r\n        this.gameModel = new GameModel();\r\n        this.physicsManager.enabled = true;\r\n        this.gameModel.init();\r\n        this.gameView.init(this);\r\n        this.paddle.init();\r\n        this.overPanel.init(this);\r\n        this.firststart.init(this);\r\n    },\r\n\r\n\r\n    startGame() {\r\n        this.physicsManager.enabled = true;\r\n        this.gameModel.init();\r\n        this.gameView.init(this);\r\n        this.ball1.init(this);\r\n        this.ball2.init(this);\r\n        this.ball3.init(this);\r\n        this.paddle.init();\r\n        this.brickLayout.init(this.gameModel.bricksNumber);\r\n        this.overPanel.init(this);\r\n    },\r\n\r\n    stopGame() {\r\n        this.physicsManager.enabled = false;\r\n        this.overPanel.show(this.gameModel.score, this.gameModel.bricksNumber === 0);\r\n    },\r\n\r\n    onBallContactBrick(ballNode, brickNode) {\r\n        brickNode.parent = null;\r\n        this.gameModel.addScore(1);\r\n        this.gameModel.minusBrick(1);\r\n        this.gameView.updateScore(this.gameModel.score);\r\n        if (this.gameModel.bricksNumber <= 0) {\r\n            this.stopGame();\r\n        }\r\n    },\r\n\r\n    onBallContactGround(ballNode, groundNode) {\r\n        this.stopGame();\r\n    },\r\n\r\n    onDestroy() {\r\n        this.physicsManager.enabled = false;\r\n    }\r\n\r\n});"]}