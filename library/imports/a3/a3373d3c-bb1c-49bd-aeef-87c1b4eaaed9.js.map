{"version":3,"sources":["assets\\scripts\\controller\\GameCtl.js"],"names":["GameModel","require","cc","Class","Component","properties","gameView","ball1","ball2","paddle","brickLayout","overPanel","onLoad","physicsManager","director","getPhysicsManager","gameModel","startGame","enabled","init","bricksNumber","stopGame","show","score","onBallContactBrick","ballNode","brickNode","parent","addScore","minusBrick","updateScore","onBallContactGround","groundNode","onDestroy"],"mappings":";;;;;;AAAA,IAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAEL,OAAO,CAAC,UAAD,CADT;AAERM,IAAAA,KAAK,EAAEN,OAAO,CAAC,OAAD,CAFN;AAGRO,IAAAA,KAAK,EAAEP,OAAO,CAAC,OAAD,CAHN;AAIRQ,IAAAA,MAAM,EAAER,OAAO,CAAC,QAAD,CAJP;AAKRS,IAAAA,WAAW,EAAET,OAAO,CAAC,aAAD,CALZ;AAMRU,IAAAA,SAAS,EAAEV,OAAO,CAAC,WAAD;AANV,GAHP;AAYL;AACAW,EAAAA,MAAM,EAAE,kBAAY;AAChB,SAAKC,cAAL,GAAsBX,EAAE,CAACY,QAAH,CAAYC,iBAAZ,EAAtB;AACA,SAAKC,SAAL,GAAiB,IAAIhB,SAAJ,EAAjB;AACA,SAAKiB,SAAL;AACH,GAjBI;AAoBLA,EAAAA,SApBK,uBAoBO;AACR,SAAKJ,cAAL,CAAoBK,OAApB,GAA8B,IAA9B;AACA,SAAKF,SAAL,CAAeG,IAAf;AACA,SAAKb,QAAL,CAAca,IAAd,CAAmB,IAAnB;AACA,SAAKZ,KAAL,CAAWY,IAAX,CAAgB,IAAhB;AACA,SAAKX,KAAL,CAAWW,IAAX,CAAgB,IAAhB;AACA,SAAKV,MAAL,CAAYU,IAAZ;AACA,SAAKT,WAAL,CAAiBS,IAAjB,CAAsB,KAAKH,SAAL,CAAeI,YAArC;AACA,SAAKT,SAAL,CAAeQ,IAAf,CAAoB,IAApB;AACH,GA7BI;AA+BLE,EAAAA,QA/BK,sBA+BM;AACP,SAAKR,cAAL,CAAoBK,OAApB,GAA8B,KAA9B;AACA,SAAKP,SAAL,CAAeW,IAAf,CAAoB,KAAKN,SAAL,CAAeO,KAAnC,EAA0C,KAAKP,SAAL,CAAeI,YAAf,KAAgC,CAA1E;AACH,GAlCI;AAoCLI,EAAAA,kBApCK,8BAoCcC,QApCd,EAoCwBC,SApCxB,EAoCmC;AACpCA,IAAAA,SAAS,CAACC,MAAV,GAAmB,IAAnB;AACA,SAAKX,SAAL,CAAeY,QAAf,CAAwB,CAAxB;AACA,SAAKZ,SAAL,CAAea,UAAf,CAA0B,CAA1B;AACA,SAAKvB,QAAL,CAAcwB,WAAd,CAA0B,KAAKd,SAAL,CAAeO,KAAzC;;AACA,QAAI,KAAKP,SAAL,CAAeI,YAAf,IAA+B,CAAnC,EAAsC;AAClC,WAAKC,QAAL;AACH;AACJ,GA5CI;AA8CLU,EAAAA,mBA9CK,+BA8CeN,QA9Cf,EA8CyBO,UA9CzB,EA8CqC;AACtC,SAAKX,QAAL;AACH,GAhDI;AAkDLY,EAAAA,SAlDK,uBAkDO;AACR,SAAKpB,cAAL,CAAoBK,OAApB,GAA8B,KAA9B;AACH;AApDI,CAAT","sourceRoot":"/","sourcesContent":["const GameModel = require('GameModel');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        gameView: require('GameView'),\r\n        ball1: require('Ball1'),\r\n        ball2: require('Ball2'),\r\n        paddle: require('Paddle'),\r\n        brickLayout: require('BrickLayout'),\r\n        overPanel: require('OverPanel'),\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.physicsManager = cc.director.getPhysicsManager();\r\n        this.gameModel = new GameModel();\r\n        this.startGame();\r\n    },\r\n\r\n\r\n    startGame() {\r\n        this.physicsManager.enabled = true;\r\n        this.gameModel.init();\r\n        this.gameView.init(this);\r\n        this.ball1.init(this);\r\n        this.ball2.init(this);\r\n        this.paddle.init();\r\n        this.brickLayout.init(this.gameModel.bricksNumber);\r\n        this.overPanel.init(this);\r\n    },\r\n\r\n    stopGame() {\r\n        this.physicsManager.enabled = false;\r\n        this.overPanel.show(this.gameModel.score, this.gameModel.bricksNumber === 0);\r\n    },\r\n\r\n    onBallContactBrick(ballNode, brickNode) {\r\n        brickNode.parent = null;\r\n        this.gameModel.addScore(1);\r\n        this.gameModel.minusBrick(1);\r\n        this.gameView.updateScore(this.gameModel.score);\r\n        if (this.gameModel.bricksNumber <= 0) {\r\n            this.stopGame();\r\n        }\r\n    },\r\n\r\n    onBallContactGround(ballNode, groundNode) {\r\n        this.stopGame();\r\n    },\r\n\r\n    onDestroy() {\r\n        this.physicsManager.enabled = false;\r\n    }\r\n\r\n});"]}